# **词法分析器 Lexical Analyzer**
**学号：19335182**
**姓名：唐晨轩**

## 1.实验目的
> 设计，编写并调试一个词法分析器，能够读取.c文件并进行正确地词法分析。加深对词法分析原理地理解。

## 2.实验要求
> 手动设计实现，或者使用Lex实现词法分析器。
> 这里我选择使用 **手动设计实现** 来实现词法分析器。
> 词法分析器需要将输入进来的源语言，转换成词法单元的Token序列。

## 3.实验过程
#### 3.1 分析词法分析器应具有的功能
> 输入：所给文法的源程序字符串
> 输出：词法单元的token序列
#### 3.2 确认待分析的简单词法
> - 首先要确认待分析的简单语言词法：
>   (1) 关键字：int,float,double,long,if,while,else,end,for等等
>   (2) 运算符和定界符：{,},(,),+,-,*,/,++,--,>,<,>=,<=,|,&,||,&&等等
>   (3) 其他单词是字符串(I)和数字(D)，通过以下正规式定义：
>   &emsp;&emsp;I = letter(letter|digit)*;  //代表字符串
>   &emsp;&emsp;N = digit(digit)*;  //代表数字
>   (4) 空格由空白、制表符和换行符组成。空格一般用来分隔标识符、数字、运算符、界符和关键字。
>   (5) 注释：包括//和/**/
#### 3.3 单词符号对应的种别码表
> - 以下为各种单词符号对应的种别码：
> (由于markdown建表很麻烦所以我在word下建表后截图至此)
> (单词符号的搜集来自网络)
> ![1](/img/1.png)
> ![2](/img/2.png)
#### 3.4 实验流程思想
> 本次实验基本任务是:
> 把源程序识别出具有独立意义的单词符号，输出对应的二元组，我在设计单词符号和种别码的时候，直接采用 c 语言保留字和运算符，.h 文件采用字符串闭包表示，经过测试，对任意 c 语言文件都可以进行词法分析。
> 本实验程序功能强大，可以对所有 c 语言基础语法文件进行词法分析， 可扩展性强，可以轻松扩展后识别 c++ 等高级语言(改变一些单词符号和对应的种别码即可)，鲁棒性强等特点。
> 程序设计思路为：
> 首先按行读入字符串后，先对字符串中多余空格进行处理，主要目的是为了减少后续不必要的判断，加快运行速度。
> 处理完空格后对代码中的单行注释进行处理，由于是按行读入，所以多行注释暂时不处理，经过初始化处理掉冗余元素后进行字符串分割，在此处也增加了对多行注释的特判，对于分割后的字符串对我设计的种别码进行 hash 映射输出二元组即可。

#### 3.5 实验结果展示
> 输入文件如下图：
> ![input](/img/input.png)
> 
> 输出文件如下图：
> ![output1](/img/output1.png)
> ![output2](/img/output2.png)
> ![output3](/img/output3.png)
> ![output4](/img/output4.png)

## 4.实验总结
> 本次实验的输出与预期一致；
> 可以正确快速的完成词法分析任务，而且当遇到词法错误的时候也会提出报错，且不会对后续程序的执行造成影响。
> 总的来说本次实验圆满完成了。后续会将代码和实验报告以及输入输出样例都上传到我的Github仓库中。
> 我的Github编译原理仓库地址为：https://github.com/Yuhiman7Xc/Compilation-Principle/tree/main